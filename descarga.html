<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title data-i18n="meta.title">Descargar – TokenLens</title>
  <meta name="description" content="Descargá TokenLens para Windows, macOS y Linux. Requisitos, instalación y soporte.">

  <!-- Canonical + hreflang -->
  <link rel="canonical" href="https://tokenlens.pages.dev/descarga.html" />
  <link rel="alternate" hreflang="es" href="https://tokenlens.pages.dev/descarga.html?lang=es"/>
  <link rel="alternate" hreflang="en" href="https://tokenlens.pages.dev/descarga.html?lang=en"/>
  <link rel="alternate" hreflang="pt" href="https://tokenlens.pages.dev/descarga.html?lang=pt"/>
  <link rel="alternate" hreflang="x-default" href="https://tokenlens.pages.dev/descarga.html"/>

  <!-- Global styles -->
  <link rel="stylesheet" href="assets/styles.css" />

  <!-- Favicon & PWA -->
  <link rel="icon" href="assets/favicon.svg" type="image/svg+xml">
  <link rel="icon" href="assets/favicon.png" sizes="32x32" type="image/png">
  <link rel="apple-touch-icon" href="assets/apple-touch-icon.png" sizes="180x180">
  <link rel="manifest" href="assets/site.webmanifest">
  <meta name="theme-color" content="#0f131a">

  <!-- Open Graph / Twitter (estáticos en ES) -->
  <meta property="og:type" content="website">
  <meta property="og:title" content="Descargar – TokenLens">
  <meta property="og:description" content="Descargá TokenLens para Windows, macOS y Linux. Requisitos, instalación y soporte.">
  <meta property="og:url" content="https://tokenlens.pages.dev/descarga.html">
  <meta property="og:image" content="https://tokenlens.pages.dev/assets/og-image.png">
  <meta property="og:site_name" content="TokenLens">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="Descargar – TokenLens">
  <meta name="twitter:description" content="Descargá TokenLens para Windows, macOS y Linux. Requisitos, instalación y soporte.">
  <meta name="twitter:image" content="https://tokenlens.pages.dev/assets/og-image.png">

  <!-- JSON-LD: SoftwareApplication -->
  <script type="application/ld+json">
  {
    "@context":"https://schema.org",
    "@type":"SoftwareApplication",
    "name":"TokenLens",
    "operatingSystem":"Windows, macOS, Linux",
    "applicationCategory":"BusinessApplication",
    "softwareVersion":"1.0",
    "downloadUrl":"https://tokenlens.pages.dev/downloads/TokenLens_Setup.exe",
    "offers":{
      "@type":"Offer",
      "category":"free",
      "price":"0",
      "priceCurrency":"USD"
    }
  }
  </script>

  <!-- Header/Footer styles (como precios.html) -->
  <style>
    .site-nav{ background:rgba(255,255,255,.02); border-bottom:1px solid #1f2a44; }
    .nav-wrap{ display:flex; align-items:center; justify-content:space-between; padding:12px 0; gap:16px; }
    .site-brand{ display:flex; align-items:center; gap:10px; text-decoration:none; color:var(--text); font-weight:700; }
    .site-brand img{ width:24px; height:24px; }

    .site-links{ display:flex; gap:18px; align-items:center; }
    .site-links a{ color:var(--muted); text-decoration:none; padding:8px 10px; border-radius:10px; border:1px solid transparent; background:transparent; }
    .site-links a:hover{ color:#fff; border-color:#233251; background:#0f131a; }
    .site-links a.active, .site-links a[aria-current="page"]{ color:var(--text); border-color:#2a3a5c; background:#0f131a; position:relative; }
    .site-links a.active::after{ content:""; position:absolute; left:10px; right:10px; bottom:-7px; height:2px; background:linear-gradient(90deg,var(--primary),var(--accent)); border-radius:2px; }

    .nav-cta{ display:flex; align-items:center; gap:12px; }
    .btn{ display:inline-block; padding:10px 14px; border-radius:12px; border:1px solid #24324d; color:var(--text); text-decoration:none; background:#151922; }
    .btn:hover{ border-color:#2b3a5f; }
    .btn.primary{ background:linear-gradient(135deg,var(--primary),var(--accent)); border:0; color:#061018; font-weight:700; }
    .btn.disabled, .btn[aria-disabled="true"]{ opacity:.6; cursor:not-allowed; }
    .btn.disabled:hover{ border-color:#24324d; }

    .lang-wrap{ position:relative; }
    .lang-select{ appearance:none; -webkit-appearance:none; -moz-appearance:none; padding:10px 34px 10px 12px; border-radius:12px; background:#0f131a; color:var(--text); border:1px solid #24324d; }
    .lang-select:focus{ outline:2px solid var(--primary); outline-offset:2px; }
    .lang-wrap .chev{ position:absolute; right:10px; top:50%; transform:translateY(-50%); pointer-events:none; color:var(--muted); font-size:12px; }
    .sr-only{ position:absolute; width:1px; height:1px; padding:0; margin:-1px; overflow:hidden; clip:rect(0,0,0,0); white-space:nowrap; border:0; }

    .nl-input{ width:100%; padding:10px 12px; border-radius:10px; margin-bottom:8px; background:#0f131a; color:var(--text); border:1px solid #1f2a44; }

    .site-footer{ border-top:1px solid #1f2a44; background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.005)); padding:28px 0 16px; margin-top:40px; }

    @media (max-width:900px){
      .nav-wrap{ flex-wrap:wrap; }
      .site-links{ order:3; width:100%; justify-content:center; padding:8px 0; }
      .nav-cta{ order:2; margin-left:auto; }
    }

    .soon-note{ display:none; color:var(--muted); font-size:12px; margin-top:4px; }
    .soon-note.show{ display:block; }
  </style>
</head>
<body>

  <!-- HEADER -->
  <header class="site-nav">
    <div class="container nav-wrap">
      <a class="site-brand" href="index.html" data-keep-lang>
        <img src="assets/logo.svg" alt="TokenLens" onerror="this.style.display='none'">
        <span>TokenLens</span>
      </a>

      <nav class="site-links">
        <a href="index.html#features" data-keep-lang data-i18n="nav.features">Características</a>
        <a href="precios.html" data-keep-lang data-i18n="nav.pricing">Precios</a>
        <a href="docs/README.html" data-keep-lang data-i18n="nav.docs">Docs</a>
      </nav>

      <div class="nav-cta">
        <a class="btn active" href="descarga.html" data-keep-lang data-i18n="nav.download" aria-current="page">Descargar</a>
        <a class="btn primary" href="precios.html#buy" data-keep-lang data-i18n="nav.buy">Comprar licencia</a>

        <label for="lang" class="sr-only">Language</label>
        <div class="lang-wrap">
          <select id="lang" class="lang-select" aria-label="Language">
            <option value="es">Español</option>
            <option value="en">English</option>
            <option value="pt">Português</option>
          </select>
          <span class="chev" aria-hidden>▾</span>
        </div>
      </div>
    </div>
  </header>

  <!-- MAIN -->
  <main class="container" style="padding:24px 0 0">
    <section class="hero">
      <div>
        <h1 data-i18n="dl.title">Descargar TokenLens</h1>
        <p class="muted" data-i18n="dl.subtitle">Elegí tu plataforma y seguí los pasos de instalación.</p>
        <div style="display:flex;gap:12px;margin-top:14px;flex-wrap:wrap">
          <a class="btn primary" id="btn-win" href="downloads/TokenLens_Setup.exe" download data-i18n="dl.win_btn">Descargar para Windows (.exe)</a>
          <a class="btn" id="btn-mac" href="downloads/TokenLens_macOS.dmg" download data-i18n="dl.mac_btn">Descargar para macOS (.dmg)</a>
          <a class="btn" id="btn-linux" href="downloads/TokenLens_Linux.AppImage" download data-i18n="dl.linux_btn">Descargar para Linux (AppImage)</a>
        </div>
        <div>
          <small id="note-mac" class="soon-note" data-i18n="dl.mac_soon">macOS: instalador próximamente. Mientras tanto, usá la guía.</small>
          <small id="note-linux" class="soon-note" data-i18n="dl.linux_soon">Linux: instalador próximamente. Mientras tanto, usá la guía.</small>
        </div>
        <div style="margin-top:10px">
          <a class="btn" href="docs/README.html#instalacion-windows" data-keep-lang data-i18n="dl.docs_btn">Ver guía de instalación</a>
        </div>
        <p class="muted" style="margin-top:8px" data-i18n="dl.req">Requisitos: Windows 10+ | 4GB RAM | 500MB disco</p>
      </div>
      <div class="card">
        <h3 data-i18n="dl.whatsinside">Qué incluye</h3>
        <ul style="margin:0 0 8px 18px">
          <li data-i18n="dl.li1">Colector (quick) para datos recientes</li>
          <li data-i18n="dl.li2">Entrenador LSTM por token</li>
          <li data-i18n="dl.li3">Predictor con BUY/SELL y CSV</li>
        </ul>
        <small class="muted" data-i18n="dl.note">Requiere datos/entrenamiento inicial.</small>
      </div>
    </section>

    <section class="grid-2">
      <div class="card">
        <h3 data-i18n="dl.other_os">Linux / macOS</h3>
        <p class="muted" data-i18n="dl.other_os_desc">Seguinos desde la documentación (instalación manual / WSL / VM).</p>
        <div style="display:flex;gap:10px;flex-wrap:wrap">
          <a class="btn" href="docs/README.html#instalacion-macos" data-keep-lang data-i18n="dl.macos_docs_btn">Guía macOS</a>
          <a class="btn" href="docs/README.html#instalacion-linux" data-keep-lang data-i18n="dl.linux_docs_btn">Guía Linux</a>
        </div>
      </div>
      <div class="card">
        <h3 data-i18n="dl.help">¿Problemas con la descarga?</h3>
        <p class="muted" data-i18n="dl.help_desc">Chequeá antivirus, conexión y permisos. Si persiste, escribinos con tu fingerprint y error.</p>
        <div style="display:flex;gap:10px;flex-wrap:wrap">
          <a class="btn" href="mailto:tokenlens@gmail.com?subject=TokenLens%20-%20Soporte&body=Hola%20TokenLens,%0A%0A(Contame%20tu%20problema%20y%20el%20error%20que%20ves)%0A">Email</a>
          <!-- TODO: reemplazar con tu handle real de Telegram -->
          <a class="btn" href="https://t.me/" target="_blank" rel="noopener">Telegram</a>
        </div>
      </div>
    </section>
  </main>

  <!-- FOOTER -->
  <footer class="site-footer">
    <div class="container footer-grid">
      <div class="footer-col">
        <a class="site-brand" href="index.html" data-keep-lang>
          <img src="assets/logo.svg" alt="TokenLens" onerror="this.style.display='none'">
          <span>TokenLens</span>
        </a>
        <p class="muted" data-i18n="footer.tagline">Señales cripto con modelos reales.</p>

        <div class="social">
           <a href="https://x.com/tucuenta"        data-icon="x"  target="_blank" rel="noopener">Twitter</a>
           <a href="https://instagram.com/tucuenta" data-icon="ig" target="_blank" rel="noopener">Instagram</a>
           <a href="https://t.me/tucanal"           data-icon="tg" target="_blank" rel="noopener">Telegram</a>
        </div>
      </div>

      <div class="footer-col">
        <h4 data-i18n="footer.product">Producto</h4>
        <ul class="footer-links">
          <li><a href="descarga.html" data-keep-lang data-i18n="nav.download">Descargar</a></li>
          <li><a href="precios.html" data-keep-lang data-i18n="nav.pricing">Precios</a></li>
          <li><a href="docs/README.html" data-keep-lang data-i18n="nav.docs">Docs</a></li>
        </ul>
      </div>

      <div class="footer-col">
        <h4 data-i18n="footer.legal">Legal</h4>
        <ul class="footer-links">
          <li><a href="terminos.html" data-keep-lang data-i18n="footer.terms">Términos</a></li>
          <li><a href="privacidad.html" data-keep-lang data-i18n="footer.privacy">Privacidad</a></li>
          <li><a href="gracias.html" data-keep-lang data-i18n="footer.thanks">Gracias</a></li>
        </ul>
      </div>

      <div class="footer-col">
        <h4 data-i18n="footer.news.title">Novedades</h4>
        <p class="muted" data-i18n="footer.news.copy">Te avisamos muy de vez en cuando.</p>
        <form id="newsletter-form">
          <input id="nl-email" type="email" required placeholder="tu@email.com" class="nl-input">
          <button class="btn primary" type="submit" data-i18n="footer.news.btn">Suscribirme</button>
        </form>
      </div>
    </div>

    <div class="container legal-bar">
      <span class="muted small" data-i18n="footer.copy">© 2025 TokenLens</span>
      <span class="muted small">v1</span>
    </div>
  </footer>

  <!-- i18n + lang persist + active link + newsletter + availability -->
  <script>
    const translations = {
      es:{ "meta.title":"Descargar – TokenLens","nav.features":"Características","nav.pricing":"Precios","nav.docs":"Docs","nav.download":"Descargar","nav.buy":"Comprar licencia",
           "dl.title":"Descargar TokenLens","dl.subtitle":"Elegí tu plataforma y seguí los pasos de instalación.",
           "dl.win_btn":"Descargar para Windows (.exe)","dl.mac_btn":"Descargar para macOS (.dmg)","dl.linux_btn":"Descargar para Linux (AppImage)",
           "dl.docs_btn":"Ver guía de instalación","dl.macos_docs_btn":"Guía macOS","dl.linux_docs_btn":"Guía Linux",
           "dl.req":"Requisitos: Windows 10+ | 4GB RAM | 500MB disco",
           "dl.whatsinside":"Qué incluye","dl.li1":"Colector (quick) para datos recientes","dl.li2":"Entrenador LSTM por token","dl.li3":"Predictor con BUY/SELL y CSV","dl.note":"Requiere datos/entrenamiento inicial.",
           "dl.other_os":"Linux / macOS","dl.other_os_desc":"Seguinos desde la documentación (instalación manual / WSL / VM).",
           "dl.help":"¿Problemas con la descarga?","dl.help_desc":"Chequeá antivirus, conexión y permisos. Si persiste, escribinos con tu fingerprint y error.",
           "dl.mac_soon":"macOS: instalador próximamente. Mientras tanto, usá la guía.",
           "dl.linux_soon":"Linux: instalador próximamente. Mientras tanto, usá la guía.",
           "footer.product":"Producto","footer.legal":"Legal","footer.terms":"Términos","footer.privacy":"Privacidad","footer.thanks":"Gracias",
           "footer.tagline":"Señales cripto con modelos reales.","footer.news.title":"Novedades","footer.news.copy":"Te avisamos muy de vez en cuando.","footer.news.btn":"Suscribirme","footer.copy":"© 2025 TokenLens"
      },
      en:{ "meta.title":"Download – TokenLens","nav.features":"Features","nav.pricing":"Pricing","nav.docs":"Docs","nav.download":"Download","nav.buy":"Buy license",
           "dl.title":"Download TokenLens","dl.subtitle":"Choose your platform and follow the setup steps.",
           "dl.win_btn":"Download for Windows (.exe)","dl.mac_btn":"Download for macOS (.dmg)","dl.linux_btn":"Download for Linux (AppImage)",
           "dl.docs_btn":"Read install guide","dl.macos_docs_btn":"macOS guide","dl.linux_docs_btn":"Linux guide",
           "dl.req":"Requirements: Windows 10+ | 4GB RAM | 500MB disk",
           "dl.whatsinside":"What’s inside","dl.li1":"Collector (quick) for recent data","dl.li2":"Per-token LSTM trainer","dl.li3":"Predictor with BUY/SELL & CSV","dl.note":"Requires initial data/training.",
           "dl.other_os":"Linux / macOS","dl.other_os_desc":"Use the docs (manual install / WSL / VM).",
           "dl.help":"Download issues?","dl.help_desc":"Check antivirus, connection and permissions. If it persists, email us with your fingerprint and error.",
           "dl.mac_soon":"macOS: installer coming soon. Use the guide meanwhile.",
           "dl.linux_soon":"Linux: installer coming soon. Use the guide meanwhile.",
           "footer.product":"Product","footer.legal":"Legal","footer.terms":"Terms","footer.privacy":"Privacy","footer.thanks":"Thanks",
           "footer.tagline":"Real models. Real crypto signals.","footer.news.title":"Newsletter","footer.news.copy":"We’ll ping you rarely.","footer.news.btn":"Subscribe","footer.copy":"© 2025 TokenLens"
      },
      pt:{ "meta.title":"Baixar – TokenLens","nav.features":"Recursos","nav.pricing":"Preços","nav.docs":"Docs","nav.download":"Baixar","nav.buy":"Comprar licença",
           "dl.title":"Baixar TokenLens","dl.subtitle":"Escolha sua plataforma e siga os passos de instalação.",
           "dl.win_btn":"Baixar para Windows (.exe)","dl.mac_btn":"Baixar para macOS (.dmg)","dl.linux_btn":"Baixar para Linux (AppImage)",
           "dl.docs_btn":"Ver guia de instalação","dl.macos_docs_btn":"Guia macOS","dl.linux_docs_btn":"Guia Linux",
           "dl.req":"Requisitos: Windows 10+ | 4GB RAM | 500MB disco",
           "dl.whatsinside":"O que inclui","dl.li1":"Coletor (quick) para dados recentes","dl.li2":"Treinador LSTM por token","dl.li3":"Previsor com BUY/SELL e CSV","dl.note":"Requer dados/treinamento inicial.",
           "dl.other_os":"Linux / macOS","dl.other_os_desc":"Siga a documentação (instalação manual / WSL / VM).",
           "dl.help":"Problemas no download?","dl.help_desc":"Verifique antivírus, conexão e permissões. Se persistir, envie seu fingerprint e erro.",
           "dl.mac_soon":"macOS: instalador em breve. Use o guia por enquanto.",
           "dl.linux_soon":"Linux: instalador em breve. Use o guia por enquanto.",
           "footer.product":"Produto","footer.legal":"Legal","footer.terms":"Termos","footer.privacy":"Privacidade","footer.thanks":"Obrigado",
           "footer.tagline":"Sinais cripto com modelos reais.","footer.news.title":"Novidades","footer.news.copy":"Avisamos raramente.","footer.news.btn":"Assinar","footer.copy":"© 2025 TokenLens"
      }
    };

    const $$ = (s,r=document)=>Array.from(r.querySelectorAll(s));
    const getLang = ()=>{
      const qs = new URLSearchParams(location.search).get('lang');
      const st = localStorage.getItem('lang');
      const nv = (navigator.language||'es').slice(0,2).toLowerCase();
      const src = (qs||st||nv);
      return src.startsWith('pt')?'pt': src.startsWith('en')?'en':'es';
    };

    const applyI18n = (lang)=>{
      const d = translations[lang] || translations.es;
      document.documentElement.setAttribute('lang', lang);
      if(d["meta.title"]) document.title = d["meta.title"];
      const metaDesc = document.querySelector('meta[name="description"]');
      if (metaDesc){
        metaDesc.setAttribute('content',
          lang==='en' ? 'Download TokenLens for Windows, macOS, and Linux. Requirements, setup, and support.' :
          lang==='pt' ? 'Baixe o TokenLens para Windows, macOS e Linux. Requisitos, instalação e suporte.' :
                        'Descargá TokenLens para Windows, macOS y Linux. Requisitos, instalación y soporte.'
        );
      }
      $$('[data-i18n]').forEach(el=>{ const k = el.getAttribute('data-i18n'); if(d[k]) el.textContent = d[k]; });
      localStorage.setItem('lang', lang);
      const sel=document.getElementById('lang'); if(sel) sel.value=lang;
    };

    // Mantiene rutas relativas y hashes
    const keepLang = (lang)=>{
      $$('a[data-keep-lang]').forEach(a=>{
        const href = a.getAttribute('href') || '';
        if (!href || /^https?:\/\//i.test(href) || href.startsWith('mailto:')) return;
        const url = new URL(href, location.href);
        url.searchParams.set('lang', lang);
        a.setAttribute('href', url.pathname + url.search + (url.hash || ''));
      });
    };

    const markActive = ()=>{
      const dl = document.querySelector('.nav-cta a[data-i18n="nav.download"]');
      if (dl){ dl.classList.add('active'); dl.setAttribute('aria-current','page'); }
      const here = (location.pathname.split('/').pop()||'descarga.html').toLowerCase();
      $$('.site-links a').forEach(a=>{
        const base=(a.getAttribute('href')||'').split('?')[0].split('#')[0];
        const f=(base.split('/').pop()||'').toLowerCase();
        const active=f ? (f===here) : (here==='index.html');
        a.classList.toggle('active',active);
        if(active) a.setAttribute('aria-current','page'); else a.removeAttribute('aria-current');
      });
    };

    // Newsletter
    function wireNewsletter(){
      const form = document.getElementById('newsletter-form');
      if (!form) return;
      form.addEventListener('submit', (e)=>{
        e.preventDefault();
        const lang = document.documentElement.getAttribute('lang') || getLang();
        const email = (document.getElementById('nl-email')?.value||'').trim();
        const ok = /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email);
        if (!ok){
          alert(lang==='pt'?'Insira um e-mail válido': lang==='en'?'Enter a valid email':'Ingresá un email válido');
          return;
        }
        const url = new URL('gracias.html', location.href);
        url.searchParams.set('email', email);
        url.searchParams.set('lang', lang);
        location.href = url.toString();
      });
    }

    // Disponibilidad de builds
    const availability = { win: true, mac: false, linux: false };

    function applyAvailability(lang){
      const dict = translations[lang] || translations.es;

      // Windows
      const winBtn = document.getElementById('btn-win');
      if (winBtn){
        if (availability.win){
          winBtn.classList.remove('disabled');
          winBtn.removeAttribute('aria-disabled');
          winBtn.setAttribute('download','');
          winBtn.setAttribute('href','downloads/TokenLens_Setup.exe');
        } else {
          winBtn.classList.add('disabled');
          winBtn.setAttribute('aria-disabled','true');
          winBtn.removeAttribute('download');
          winBtn.setAttribute('href','docs/README.html#instalacion-windows');
        }
      }

      // macOS
      const macBtn = document.getElementById('btn-mac');
      const macNote = document.getElementById('note-mac');
      if (macBtn && macNote){
        if (!availability.mac){
          macBtn.classList.add('disabled');
          macBtn.setAttribute('aria-disabled','true');
          macBtn.removeAttribute('download');
          macBtn.setAttribute('href','docs/README.html#instalacion-macos');
          macNote.textContent = dict["dl.mac_soon"];
          macNote.classList.add('show');
        } else {
          macBtn.classList.remove('disabled');
          macBtn.removeAttribute('aria-disabled');
          macBtn.setAttribute('download','');
          macBtn.setAttribute('href','downloads/TokenLens_macOS.dmg');
          macNote.classList.remove('show');
        }
      }

      // Linux
      const linuxBtn = document.getElementById('btn-linux');
      const linuxNote = document.getElementById('note-linux');
      if (linuxBtn && linuxNote){
        if (!availability.linux){
          linuxBtn.classList.add('disabled');
          linuxBtn.setAttribute('aria-disabled','true');
          linuxBtn.removeAttribute('download');
          linuxBtn.setAttribute('href','docs/README.html#instalacion-linux');
          linuxNote.textContent = dict["dl.linux_soon"];
          linuxNote.classList.add('show');
        } else {
          linuxBtn.classList.remove('disabled');
          linuxBtn.removeAttribute('aria-disabled');
          linuxBtn.setAttribute('download','');
          linuxBtn.setAttribute('href','downloads/TokenLens_Linux.AppImage');
          linuxNote.classList.remove('show');
        }
      }
    }

    // init
    const initial=getLang();
    applyI18n(initial);
    keepLang(initial);
    markActive();
    wireNewsletter();
    applyAvailability(initial);

    // idioma
    const langSel = document.getElementById('lang');
    if (langSel){
      langSel.addEventListener('change', e=>{
        const lang=e.target.value;
        applyI18n(lang);
        keepLang(lang);
        const url=new URL(location.href); url.searchParams.set('lang',lang);
        history.replaceState({},'',url);
        applyAvailability(lang);
      });
    }
  </script>
</body>
</html>
